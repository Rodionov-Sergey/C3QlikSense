# Описание Qlik API

> Здесь представлено описание Qlik API и рекомендаций по его исользованию

## Диаграмма классов
[![](https://mermaid.ink/img/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gICAgY2xhc3MgTnhFeHRlbnNpb24ge1xuICAgICAgICBzdHJpbmcgdGl0bGVcbiAgICB9XG4gICAgTnhFeHRlbnNpb24gKi0tIE54SHlwZXJDdWJlOiBxSHlwZXJDdWJlXG4gICAgTnhFeHRlbnNpb24gKi0tIFwiMC4uMVwiIEV4dGVuc2lvbkN1c3RvbVByb3BlcnRpZXM6IGN1c3RvbVByb3BlcnRpZXNcblxuICAgIE54SHlwZXJDdWJlICotLSBcIipcIiBOeERpbWVuc2lvbjogcURpbWVuc2lvbkluZm9cbiAgICBOeEh5cGVyQ3ViZSAqLS0gXCIqXCIgTnhNZWFzdXJlOiBxTWVhc3VyZUluZm9cbiAgICBOeEh5cGVyQ3ViZSAqLS0gXCIqXCIgTnhEYXRhUGFnZTogcURhdGFQYWdlc1xuXG4gICAgY2xhc3MgTnhDb2x1bW4ge1xuICAgICAgICAgc3RyaW5nIHFGYWxsYmFja1RpdGxlIFxuICAgICAgICAgc3RyaW5nIG90aGVyc0xhYmVsXG4gICAgfVxuXG4gICAgY2xhc3MgTnhEaW1lbnNpb24ge1xuICAgICAgICAgc3RyaW5nIHFGYWxsYmFja1RpdGxlIFxuICAgICAgICAgc3RyaW5nIG90aGVyc0xhYmVsXG4gICAgfVxuICAgIE54RGltZW5zaW9uIC0tfD4gTnhDb2x1bW5cbiAgICBOeERpbWVuc2lvbiBvLS0gXCIwLi4xXCIgRGltZW5zaW9uQ3VzdG9tUHJvcGVydGllczogY3VzdG9tUHJvcGVydGllc1xuXG4gICAgY2xhc3MgTnhNZWFzdXJlIHtcbiAgICAgICAgIHN0cmluZyBxRmFsbGJhY2tUaXRsZSBcbiAgICAgICAgIHN0cmluZyBvdGhlcnNMYWJlbFxuICAgIH1cbiAgICBOeE1lYXN1cmUgLS18PiBOeENvbHVtblxuICAgIE54TWVhc3VyZSBvLS0gXCIwLi4xXCIgTWVhc3VyZUN1c3RvbVByb3BlcnRpZXM6IGN1c3RvbVByb3BlcnRpZXNcblxuICAgIE54RGF0YVBhZ2UgKi0tIFwiKlwiIE54Um93XG5cbiAgICBOeFJvdyAqLS0gXCIqXCIgTnhDZWxsXG5cbiAgICBjbGFzcyBOeENlbGwge1xuICAgICAgICBib29sZWFuIHFJc0VtcHR5XG4gICAgICAgIGJvb2xlYW4gcUlzTnVsbFxuICAgICAgICBzdHJpbmcgcVRleHRcbiAgICAgICAgbnVtYmVyIHFOdW1cbiAgICB9XG4gICAgTnhDZWxsICotLSBOeEF0dHJpYnV0ZXM6IHFBdHRyRXhwc1xuXG4gICAgTnhBdHRyaWJ1dGVzICotLSBcIipcIiBOeFZhbHVlOiBxVmFsdWVzXG5cbiAgICBjbGFzcyBOeFZhbHVlIHtcbiAgICAgICAgc3RyaW5nIHFUZXh0XG4gICAgICAgIG51bWJlciBxTnVtIFxuICAgIH1cblxuICAgIGNsYXNzIEV4dGVuc2lvbkN1c3RvbVByb3BlcnRpZXMge1xuICAgICAgICA8PGFic3RyYWN0Pj5cbiAgICB9XG5cbiAgICBjbGFzcyBDb2x1bW5DdXN0b21Qcm9wZXJ0aWVzIHtcbiAgICAgICAgPDxhYnN0cmFjdD4-XG4gICAgfVxuXG4gICAgY2xhc3MgRGltZW5zaW9uQ3VzdG9tUHJvcGVydGllcyB7XG4gICAgICAgIDw8YWJzdHJhY3Q-PlxuICAgIH1cbiAgICBEaW1lbnNpb25DdXN0b21Qcm9wZXJ0aWVzIC0tfD4gQ29sdW1uQ3VzdG9tUHJvcGVydGllc1xuXG4gICAgY2xhc3MgTWVhc3VyZUN1c3RvbVByb3BlcnRpZXMge1xuICAgICAgICA8PGFic3RyYWN0Pj5cbiAgICB9XG4gICAgTWVhc3VyZUN1c3RvbVByb3BlcnRpZXMgLS18PiBDb2x1bW5DdXN0b21Qcm9wZXJ0aWVzIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifSwidXBkYXRlRWRpdG9yIjpmYWxzZX0)](https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gICAgY2xhc3MgTnhFeHRlbnNpb24ge1xuICAgICAgICBzdHJpbmcgdGl0bGVcbiAgICB9XG4gICAgTnhFeHRlbnNpb24gKi0tIE54SHlwZXJDdWJlOiBxSHlwZXJDdWJlXG4gICAgTnhFeHRlbnNpb24gKi0tIFwiMC4uMVwiIEV4dGVuc2lvbkN1c3RvbVByb3BlcnRpZXM6IGN1c3RvbVByb3BlcnRpZXNcblxuICAgIE54SHlwZXJDdWJlICotLSBcIipcIiBOeERpbWVuc2lvbjogcURpbWVuc2lvbkluZm9cbiAgICBOeEh5cGVyQ3ViZSAqLS0gXCIqXCIgTnhNZWFzdXJlOiBxTWVhc3VyZUluZm9cbiAgICBOeEh5cGVyQ3ViZSAqLS0gXCIqXCIgTnhEYXRhUGFnZTogcURhdGFQYWdlc1xuXG4gICAgY2xhc3MgTnhDb2x1bW4ge1xuICAgICAgICAgc3RyaW5nIHFGYWxsYmFja1RpdGxlIFxuICAgICAgICAgc3RyaW5nIG90aGVyc0xhYmVsXG4gICAgfVxuXG4gICAgY2xhc3MgTnhEaW1lbnNpb24ge1xuICAgICAgICAgc3RyaW5nIHFGYWxsYmFja1RpdGxlIFxuICAgICAgICAgc3RyaW5nIG90aGVyc0xhYmVsXG4gICAgfVxuICAgIE54RGltZW5zaW9uIC0tfD4gTnhDb2x1bW5cbiAgICBOeERpbWVuc2lvbiBvLS0gXCIwLi4xXCIgRGltZW5zaW9uQ3VzdG9tUHJvcGVydGllczogY3VzdG9tUHJvcGVydGllc1xuXG4gICAgY2xhc3MgTnhNZWFzdXJlIHtcbiAgICAgICAgIHN0cmluZyBxRmFsbGJhY2tUaXRsZSBcbiAgICAgICAgIHN0cmluZyBvdGhlcnNMYWJlbFxuICAgIH1cbiAgICBOeE1lYXN1cmUgLS18PiBOeENvbHVtblxuICAgIE54TWVhc3VyZSBvLS0gXCIwLi4xXCIgTWVhc3VyZUN1c3RvbVByb3BlcnRpZXM6IGN1c3RvbVByb3BlcnRpZXNcblxuICAgIE54RGF0YVBhZ2UgKi0tIFwiKlwiIE54Um93XG5cbiAgICBOeFJvdyAqLS0gXCIqXCIgTnhDZWxsXG5cbiAgICBjbGFzcyBOeENlbGwge1xuICAgICAgICBib29sZWFuIHFJc0VtcHR5XG4gICAgICAgIGJvb2xlYW4gcUlzTnVsbFxuICAgICAgICBzdHJpbmcgcVRleHRcbiAgICAgICAgbnVtYmVyIHFOdW1cbiAgICB9XG4gICAgTnhDZWxsICotLSBOeEF0dHJpYnV0ZXM6IHFBdHRyRXhwc1xuXG4gICAgTnhBdHRyaWJ1dGVzICotLSBcIipcIiBOeFZhbHVlOiBxVmFsdWVzXG5cbiAgICBjbGFzcyBOeFZhbHVlIHtcbiAgICAgICAgc3RyaW5nIHFUZXh0XG4gICAgICAgIG51bWJlciBxTnVtIFxuICAgIH1cblxuICAgIGNsYXNzIEV4dGVuc2lvbkN1c3RvbVByb3BlcnRpZXMge1xuICAgICAgICA8PGFic3RyYWN0Pj5cbiAgICB9XG5cbiAgICBjbGFzcyBDb2x1bW5DdXN0b21Qcm9wZXJ0aWVzIHtcbiAgICAgICAgPDxhYnN0cmFjdD4-XG4gICAgfVxuXG4gICAgY2xhc3MgRGltZW5zaW9uQ3VzdG9tUHJvcGVydGllcyB7XG4gICAgICAgIDw8YWJzdHJhY3Q-PlxuICAgIH1cbiAgICBEaW1lbnNpb25DdXN0b21Qcm9wZXJ0aWVzIC0tfD4gQ29sdW1uQ3VzdG9tUHJvcGVydGllc1xuXG4gICAgY2xhc3MgTWVhc3VyZUN1c3RvbVByb3BlcnRpZXMge1xuICAgICAgICA8PGFic3RyYWN0Pj5cbiAgICB9XG4gICAgTWVhc3VyZUN1c3RvbVByb3BlcnRpZXMgLS18PiBDb2x1bW5DdXN0b21Qcm9wZXJ0aWVzIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifSwidXBkYXRlRWRpdG9yIjpmYWxzZX0)

## Описание модели
В описании представлены лишь основные классы Qlik API.

Названия классов Qlik API могут не точно соответствовать указанным в официальной документации, но соответствуют определениям в `qlik.jsdoc.js`.

В описание так же присутствуют абстрактные пользовательские классы, отмечающие места для дополнения.
Рекомендуемыми точками дополнения модели являются: расширение, столбцы (меры и измерения) и ячейки.

### Дополнение модели данных расширения
Иногда возникает необходимость предоставить пользователю нестандартные настройки, применяемые на уровне всего расширения.

В этом случае рекомендуется дополнять класс `NxExtension`, представляющий расширение, полем пользовательского типа.

В данном случае это поле называется `customProperties` и имеет тип `ExtensionCustomProperties`. Поле и тип не являются частью Qlik API.

### Дополнение модели данных столбца
Иногда возникает необходимость дополнить измерение или меру (вместе называемые столбец) нестандартными настройками.

Измерение представляется классом `NxDimension`, мера - `NxMeasure`.
Рекомендуется расширять их полем пользовательского типа.

В данном случае это поле называется `customProperties` и имеет тип `ColumnCustomProperties`. Поле и тип не являются частью Qlik API.

### Дополнение модели данных ячейки
Иногда возникает необходимость дополнить нестандартными настройками ячейку данных.

Ячейка представляется классом `NxCell`.

Расширение ячеек выполняется при помощи атрибутов, при этом в поле `qAttrExps` в массиве `qValue` по определённому индексу лежит объект класса `NxAttributes`, представляющий значение нового свойства.