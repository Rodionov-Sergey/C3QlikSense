# Описание Qlik API

> Здесь представлено описание Qlik API и рекомендаций по его исользованию

## Диаграмма классов
[![](https://mermaid.ink/img/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gICAgY2xhc3MgUWxpa0xheW91dCB7XG4gICAgICAgIHN0cmluZyB0aXRsZVxuICAgIH1cbiAgICBRbGlrTGF5b3V0ICotLSBOeEh5cGVyQ3ViZTogcUh5cGVyQ3ViZVxuICAgIFFsaWtMYXlvdXQgKi0tIFwiMC4uMVwiIEV4dGVuc2lvbkN1c3RvbVByb3BlcnRpZXM6IGN1c3RvbVByb3BlcnRpZXNcblxuICAgIE54SHlwZXJDdWJlICotLSBcIipcIiBOeERpbWVuc2lvbjogcURpbWVuc2lvbkluZm9cbiAgICBOeEh5cGVyQ3ViZSAqLS0gXCIqXCIgTnhNZWFzdXJlOiBxTWVhc3VyZUluZm9cbiAgICBOeEh5cGVyQ3ViZSAqLS0gXCIqXCIgTnhEYXRhUGFnZTogcURhdGFQYWdlc1xuXG4gICAgY2xhc3MgTnhEaW1lbnNpb24ge1xuICAgICAgICAgc3RyaW5nIHFGYWxsYmFja1RpdGxlIFxuICAgICAgICAgc3RyaW5nIG90aGVyc0xhYmVsXG4gICAgfVxuICAgIE54RGltZW5zaW9uIG8tLSBcIjAuLjFcIiBDb2x1bW5DdXN0b21Qcm9wZXJ0aWVzOiBjdXN0b21Qcm9wZXJ0aWVzXG4gICAgXG4gICAgY2xhc3MgTnhNZWFzdXJlIHtcbiAgICAgICAgIHN0cmluZyBxRmFsbGJhY2tUaXRsZSBcbiAgICAgICAgIHN0cmluZyBvdGhlcnNMYWJlbFxuICAgIH1cbiAgICBOeE1lYXN1cmUgby0tIFwiMC4uMVwiIENvbHVtbkN1c3RvbVByb3BlcnRpZXM6IGN1c3RvbVByb3BlcnRpZXNcblxuICAgIE54RGF0YVBhZ2UgKi0tIFwiKlwiIE54Q2VsbFJvd3NcblxuICAgIE54Q2VsbFJvd3MgKi0tIFwiKlwiIE54Q2VsbFxuXG4gICAgY2xhc3MgTnhDZWxsIHtcbiAgICAgICAgYm9vbGVhbiBxSXNFbXB0eVxuICAgICAgICBib29sZWFuIHFJc051bGxcbiAgICAgICAgc3RyaW5nIHFUZXh0XG4gICAgICAgIG51bWJlciBxTnVtXG4gICAgfVxuICAgIE54Q2VsbCAqLS0gTnhBdHRyaWJ1dGVzOiBxQXR0ckV4cHNcblxuICAgIE54QXR0cmlidXRlcyAqLS0gXCIqXCIgTnhWYWx1ZTogcVZhbHVlc1xuXG4gICAgY2xhc3MgTnhWYWx1ZSB7XG4gICAgICAgIHN0cmluZyBxVGV4dFxuICAgICAgICBudW1iZXIgcU51bSBcbiAgICB9XG5cbiAgICBjbGFzcyBFeHRlbnNpb25DdXN0b21Qcm9wZXJ0aWVzIHtcbiAgICAgICAgPDxhYnN0cmFjdD4-XG4gICAgfVxuXG4gICAgY2xhc3MgQ29sdW1uQ3VzdG9tUHJvcGVydGllc3tcbiAgICAgICAgPDxhYnN0cmFjdD4-XG4gICAgfSIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In0sInVwZGF0ZUVkaXRvciI6ZmFsc2V9)](https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gICAgY2xhc3MgUWxpa0xheW91dCB7XG4gICAgICAgIHN0cmluZyB0aXRsZVxuICAgIH1cbiAgICBRbGlrTGF5b3V0ICotLSBOeEh5cGVyQ3ViZTogcUh5cGVyQ3ViZVxuICAgIFFsaWtMYXlvdXQgKi0tIFwiMC4uMVwiIEV4dGVuc2lvbkN1c3RvbVByb3BlcnRpZXM6IGN1c3RvbVByb3BlcnRpZXNcblxuICAgIE54SHlwZXJDdWJlICotLSBcIipcIiBOeERpbWVuc2lvbjogcURpbWVuc2lvbkluZm9cbiAgICBOeEh5cGVyQ3ViZSAqLS0gXCIqXCIgTnhNZWFzdXJlOiBxTWVhc3VyZUluZm9cbiAgICBOeEh5cGVyQ3ViZSAqLS0gXCIqXCIgTnhEYXRhUGFnZTogcURhdGFQYWdlc1xuXG4gICAgY2xhc3MgTnhEaW1lbnNpb24ge1xuICAgICAgICAgc3RyaW5nIHFGYWxsYmFja1RpdGxlIFxuICAgICAgICAgc3RyaW5nIG90aGVyc0xhYmVsXG4gICAgfVxuICAgIE54RGltZW5zaW9uIG8tLSBcIjAuLjFcIiBDb2x1bW5DdXN0b21Qcm9wZXJ0aWVzOiBjdXN0b21Qcm9wZXJ0aWVzXG4gICAgXG4gICAgY2xhc3MgTnhNZWFzdXJlIHtcbiAgICAgICAgIHN0cmluZyBxRmFsbGJhY2tUaXRsZSBcbiAgICAgICAgIHN0cmluZyBvdGhlcnNMYWJlbFxuICAgIH1cbiAgICBOeE1lYXN1cmUgby0tIFwiMC4uMVwiIENvbHVtbkN1c3RvbVByb3BlcnRpZXM6IGN1c3RvbVByb3BlcnRpZXNcblxuICAgIE54RGF0YVBhZ2UgKi0tIFwiKlwiIE54Q2VsbFJvd3NcblxuICAgIE54Q2VsbFJvd3MgKi0tIFwiKlwiIE54Q2VsbFxuXG4gICAgY2xhc3MgTnhDZWxsIHtcbiAgICAgICAgYm9vbGVhbiBxSXNFbXB0eVxuICAgICAgICBib29sZWFuIHFJc051bGxcbiAgICAgICAgc3RyaW5nIHFUZXh0XG4gICAgICAgIG51bWJlciBxTnVtXG4gICAgfVxuICAgIE54Q2VsbCAqLS0gTnhBdHRyaWJ1dGVzOiBxQXR0ckV4cHNcblxuICAgIE54QXR0cmlidXRlcyAqLS0gXCIqXCIgTnhWYWx1ZTogcVZhbHVlc1xuXG4gICAgY2xhc3MgTnhWYWx1ZSB7XG4gICAgICAgIHN0cmluZyBxVGV4dFxuICAgICAgICBudW1iZXIgcU51bSBcbiAgICB9XG5cbiAgICBjbGFzcyBFeHRlbnNpb25DdXN0b21Qcm9wZXJ0aWVzIHtcbiAgICAgICAgPDxhYnN0cmFjdD4-XG4gICAgfVxuXG4gICAgY2xhc3MgQ29sdW1uQ3VzdG9tUHJvcGVydGllc3tcbiAgICAgICAgPDxhYnN0cmFjdD4-XG4gICAgfSIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In0sInVwZGF0ZUVkaXRvciI6ZmFsc2V9)

## Описание модели
В описании представлены лишь основные классы Qlik API.

Названия классов Qlik API могут не точно соответствовать указанным в официальной документации, но соответствуют определениям в `qlik.jsdoc.js`.

В описание так же присутствуют абстрактные пользовательские классы, отмечающие места для дополнения.
Рекомендуемыми точками дополнения модели являются: расширение, столбцы (меры и измерения) и ячейка.

### Дополнение модели данных расширения
Иногда возникает необходимость предоставить пользователю нестандартные настройки, применяемые на уровне всего расширения.

В этом случае рекомендуется дополнять класс `NxExtension`, представляющий расширение, полем  пользовательского типа.

В данном случае это поле называется  `customProperties` и имеет тип `ExtensionCustomProperties`. Поле и тип не являются частью Qlik API.

### Дополнение модели данных столбца
Иногда возникает необходимость дополнить измерение или меру (вместе называемые столбец) нестандартными настройками.

Измерение представляется классом `NxDimension`, мера - `NxMeasure`.
Рекомендуется расширять их полем пользовательского типа.

В данном случае это поле называется  `customProperties` и имеет тип `ColumnCustomProperties`. Поле и тип не являются частью Qlik API.

### Дополнение модели данных ячейки
Иногда возникает необходимость дополнить нестандартными настройками ячейку данных.

Ячейка представляется классом `NxCell`.

Расширение ячеек выполняется при помощи атрибутов, при этом в поле `qAttrExps` в массиве `qValue` по определённому индексу лежит объект класса `NxAttributes`, представляющий значение нового свойства.